{% extends "main/base.html" %}
{% block content %}
<div class="container mt-4">
    <div class="row">
        <!-- Левая колонка с изображением -->
        <div class="col-md-6">
            <div class="product-image-container">
                <img class="img-fluid rounded product-image" src="{{ product.main_image.url }}" alt="{{ product.name }}">
            </div>
        </div>

        <!-- Правая колонка с информацией о товаре -->
        <div class="col-md-6">
            <h1 class="product-title">{{ product.name }}</h1>
            
            <div class="rating-section mb-2">
                <span class="badge bg-warning text-dark">
                    <i class="bi bi-star-fill"></i> 4.8 (1247 reviews)
                </span>
            </div>

            <div class="price-section mb-3">
                <span class="current-price"> {{product.price}} $</span>
                <span class="original-price text-muted text-decoration-line-through">{{product.price}} $</span>
            </div>

            <div class="availability mb-3">
                {% if product.available == True %}
                    <span class="badge bg-success">
                        <i class="bi bi-check-circle"></i> In Stock
                    </span>
                {% else %}
                <span class="badge bg-danger">
                    <i class="bi bi-x-circle"></i> Out of Stock
                </span>
                {% endif %}
            </div>

            <p class="product-description">
                {{product.description}}
            </p>

            <hr>

            <!-- Количество и кнопки -->
            <div class="quantity-section mb-4">
                <label class="form-label"><strong>Quantity:</strong></label>
                <div class="d-flex gap-3 align-items-center">
                    <div class="quantity-selector">
                        {% if product.available %}
                        <input type="number" 
                                class="form-control" 
                                id="quantity-input"
                                name="quantity" 
                                value="1" 
                                min="1" 
                                max="100"
                                style="width: 100px;">
                        {% else %}
                        <div class="input-group" style="width: 130px;">
                            <input type="number" 
                                    class="form-control text-center" 
                                    value="0" 
                                    disabled
                                    style="background-color: #f8f9fa;">
                            <span class="input-group-text bg-light">max</span>
                        </div>
                        {% endif %}
                    </div>
                    {% if product.available %}
                    <div class="action-buttons d-flex gap-2">
                        <button class="btn btn-primary btn-lg add-to-cart-btn">
                            <i class="bi bi-cart-plus"></i> Add to Cart
                        </button>
                        <button class="btn btn-success btn-lg buy-now-btn">
                            <i class="bi bi-lightning"></i> Buy Now
                        </button>
                    </div>
                    {% else %}
                    <button class="btn btn-outline-primary btn-lg flex-fill" disabled>
                        <i class="bi bi-cart-x"></i> Unavailable
                    </button>
                    {% endif %}
                </div>
            </div>

            <hr>

            <!-- Ключевые особенности -->
            <div class="key-features mb-4">
                <h5 class="mb-3">Key Features</h5>
                <div class="row">
                    <div class="col-6">
                        <ul class="list-unstyled">
                            <li><i class="bi bi-check-circle text-success"></i> Key Feature</li>
                            <li><i class="bi bi-check-circle text-success"></i> Key Feature</li>
                            <li><i class="bi bi-check-circle text-success"></i> Key Feature</li>
                        </ul>
                    </div>
                    <div class="col-6">
                        <ul class="list-unstyled">
                            <li><i class="bi bi-check-circle text-success"></i> Key Feature</li>
                            <li><i class="bi bi-check-circle text-success"></i> Key Feature</li>
                            <li><i class="bi bi-check-circle text-success"></i> Key Feature</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Дополнительные преимущества -->
            <div class="benefits-section">
                <div class="row text-center">
                    <div class="col-md-4 mb-3">
                        <div class="benefit-item">
                            <i class="bi bi-truck fs-4 text-primary"></i>
                            <h6 class="mt-2">Free Shipping</h6>
                            <small class="text-muted">On orders over $50</small>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="benefit-item">
                            <i class="bi bi-shield-check fs-4 text-primary"></i>
                            <h6 class="mt-2">2 Year Warranty</h6>
                            <small class="text-muted">Full coverage</small>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="benefit-item">
                            <i class="bi bi-arrow-left-right fs-4 text-primary"></i>
                            <h6 class="mt-2">30-Day Returns</h6>
                            <small class="text-muted">No questions asked</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.product-image {
    max-height: 500px;
    object-fit: cover;
    border-radius: 10px;
}

.product-title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
}

.current-price {
    font-size: 1.8rem;
    font-weight: 700;
    color: #dc3545;
}

.original-price {
    font-size: 1.2rem;
    margin-left: 10px;
}

.product-description {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #666;
}

.quantity-section {
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
}

.benefit-item {
    padding: 15px;
    border-radius: 8px;
    transition: transform 0.2s;
}

.benefit-item:hover {
    transform: translateY(-2px);
    background-color: #f8f9fa;
}

.action-buttons .btn {
    flex: 1;
}

@media (max-width: 768px) {
    .blk-content {
        margin-left: 0;
    }
    
    .action-buttons {
        flex-direction: column;
    }
    
    .action-buttons .btn {
        width: 100%;
    }
}
</style>
{% endblock content %}